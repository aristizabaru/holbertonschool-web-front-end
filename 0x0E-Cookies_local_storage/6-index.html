<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>6. Session storage</title>
  </head>
  <style>
    a {
      cursor: pointer;
    }
    a:hover {
      opacity: 0.7;
    }
  </style>
  <body>
    <script>
      // GLOBAL VARIABLES
      const availableItems = ["Shampoo", "Soap", "Sponge", "Water"];

      // FUNCTIONS
      function addItemToCart(item) {
        sessionStorage.setItem(item, "true");
      }
      function createStore() {
        const $ulList = document.createElement("ul");
        let $liList = "";

        availableItems.forEach((element) => {
          $liList += `<li><a role="button" tabindex="0" onclick="addItemToCart('${element}')">${element}</a></li>`;
        });
        $ulList.innerHTML = $liList;
        document.body.append($ulList);
      }
      function displayCart() {
        if (sessionStorage.length === 0) return;
        const $paragraph = document.createElement("p");
        $paragraph.innerHTML = `You previously had ${sessionStorage.length} items in your cart`;
        document.body.append($paragraph);
      }
      function main() {
        if (!window.sessionStorage)
          alert("Sorry, your browser does not support Web storage. Try again with a better one");
        createStore();
        displayCart();
      }
      window.onload = main;
    </script>
  </body>
</html>
